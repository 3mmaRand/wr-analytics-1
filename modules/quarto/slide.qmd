---
title: "Quarto for reproducible reporting"
author: "Emma Rand"
format: 
  revealjs:
    theme: simple
    footer: "ðŸ”— [Module overview](https://3mmarand.github.io/wr-analytics-1/modules/overview.html)"
    slide-number: true
    chalkboard: true
    code-link: true
    code-line-numbers: false
execute:
  eval: false
bibliography: ../../references.bib
editor: 
  markdown: 
    wrap: 72
---

# Overview

## Aims

To introduce you to Quarto for creating reproducible reports in a
variety of output formats. You will also get more practice organising
analyses and importing, summarising and plotting data.

ðŸŽ¬ Instruction to do something


## Learning Outcomes

The successful student will be able to:

::: {style="font-size: 80%"}
-   explain what Quarto and markdown are

-   appreciate the role of the YAML header

-   set default code chunk behaviour and that for individual chunks

-   use headings, simple text formatting and special characters

-   add citations and references

-   use inline code to report results in text

-   create automatically numbered tables and figures and cross reference
    them in text
:::

## Current process

::: incremental
-   What is your process for getting your summary data, statistical
    results, tables and figures in to a report / paper?

-   What do you do when you get additional data that increases your
    sample sizes?

-   How easy is it to reorder your figures and tables?

-   What do you do if you formatted for one journal and now have to
    submit to another?
:::

## Current process

::: incremental
-   Typically people analyse, plot and write up in different programs.

-   Graphs are saved to files and inserted into the final report.

-   Reordering figures, tables and equations means updating everywhere
    they are cross-referenced.

-   If the data change, the author must repeat the entire process to
    update the report.

-   Manual labour ..... error prone
:::

# What is Quarto?

## What is Quarto?

::: incremental
-   An open-source scientific and technical publishing system that
    allows you to create dynamic reproducible reports in a variety of
    output formats.

-   Next generation RMarkdown. Many new features, greater
    standardisation and more flexibility.

-   Mutli-language Python, R, Julia, and Observable.

-   Include auto-numbered and cross-referencable equations, figures and
    tables

-   Integrates with Zotero
:::

# Demo!

## Key points from the demo

-   Quarto mixes text and code to create dynamic reports

-   The YAML header sets the default behaviour for the document and is
    between `---` at the top of the document

-   R Code chunks are between ```` ```{r} ```` and ```` ``` ```` and
    chunk options determine how/whether they run whether code/output is
    included in the knitted document

-   Comments: `|#`, `#` in chunk options, `<!-- in text -->` but use
    Ctrl+Shift+C

# Markdown foundations

## What is Markdown?

Markdown is a plain text format that is designed to be easy to write,
and, even more importantly, easy to read

## Text Formatting

+------------------------------+-------------------------------------+
| Markdown Syntax              | Output                              |
+==============================+=====================================+
| ``` markdown                 | *italics*, **bold**                 |
| *italics*,**bold**           |                                     |
| ```                          |                                     |
+------------------------------+-------------------------------------+
| ``` markdown                 | ***bold italics***                  |
| ***bold italics **           |                                     |
| ```                          |                                     |
+------------------------------+-------------------------------------+
| ``` markdown                 | superscript^2^                      |
| superscript^2^               |                                     |
| ```                          |                                     |
+------------------------------+-------------------------------------+
| ``` markdown                 | subscript~2~                        |
| subscript~2~                 |                                     |
| ```                          |                                     |
+------------------------------+-------------------------------------+
| ``` markdown                 | ~~strikethrough~~                   |
| ~~strikethrough~~            |                                     |
| ```                          |                                     |
+------------------------------+-------------------------------------+
| ``` markdown                 | `verbatim code`                     |
| `verbatim code`              |                                     |
| ```                          |                                     |
+------------------------------+-------------------------------------+

## Headings

+-------------------------+------------------------------------------+
| Markdown Syntax         | Output                                   |
+=========================+==========================================+
| ``` markdown            | # Header 1                               |
| # Header 1              |                                          |
| ```                     |                                          |
+-------------------------+------------------------------------------+
| ``` markdown            | ## Header 2                              |
| ## Header 2             |                                          |
| ```                     |                                          |
+-------------------------+------------------------------------------+
| ``` markdown            | ### Header 3                             |
| ### Header 3            |                                          |
| ```                     |                                          |
+-------------------------+------------------------------------------+
| ``` markdown            | #### Header 4                            |
| #### Header 4           |                                          |
| ```                     |                                          |
+-------------------------+------------------------------------------+

## Links & Images

+-----------------------------------+-------------------------------+
| Markdown Syntax                   | Output                        |
+===================================+===============================+
| ``` markdown                      | [Quarto](https://quarto.org)  |
| [Quarto](https://quarto.org)      |                               |
| ```                               |                               |
+-----------------------------------+-------------------------------+
| ``` markdown                      | ![](i                         |
| ![Caption](images/chaff.jpg)      | mages/chaff.jpg){width="150"} |
| ```                               |                               |
+-----------------------------------+-------------------------------+

## Lists

+-------------------------------+---------------------------------+
| Markdown Syntax               | Output                          |
+===============================+=================================+
| ``` markdown                  | -   unordered list              |
| * unordered list              |     -   sub-item 1              |
|     + sub-item 1              |     -   sub-item 2              |
|     + sub-item 2              |                                 |
| ```                           |                                 |
+-------------------------------+---------------------------------+

## Lists

+--------------------------------+--------------------------------+
| Markdown Syntax                | Output                         |
+================================+================================+
| ``` markdown                   | 1.  ordered list               |
| 1. ordered list                | 2.  item 2                     |
| 2. item 2                      |     i)  sub-item 1             |
|     i) sub-item 1              |                                |
| ```                            |                                |
+--------------------------------+--------------------------------+

## Equations

Use `$` delimiters for inline math and `$$` delimiters for display math.
For example:

+--------------------------------+--------------------------------+
| Markdown Syntax                | Output                         |
+================================+================================+
| ``` markdown                   | inline math: $E=mc^{2}$        |
| inline math: $E = mc^{2}$      |                                |
| ```                            |                                |
+--------------------------------+--------------------------------+
| ``` markdown                   | display math:                  |
| display math:                  |                                |
|                                | $$E = mc^{2}$$                 |
| $$E = mc^{2}$$                 |                                |
| ```                            |                                |
+--------------------------------+--------------------------------+

## Divs

"Divs" are used to group content together and apply styling to that
content.

For example, callouts

``` markdown
:::{.callout-note}
Note that there are five types of callouts, including: 
`note`, `tip`, `warning`, `caution`, and `important`.
:::
```

::: callout-note
Note that there are five types of callouts, including: `note`, `tip`,
`warning`, `caution`, and `important`.
:::

## Div

For example:

``` markdown
::: {style="font-size: 80%"}
This content is smaller
:::
```

::: {style="font-size: 80%"}
This content is smaller
:::

# Your turn!

## Start a new project

ðŸŽ¬ File | New Project | New Directory | Quarto Project

    -   Browse to an appropriate place and give your project a name.

    -   I used `wr-chaff`

    -   Choose Engine: Knitr

    -   Turn visual markdown editor off (for now)



## Your project contains

-    `wr-chaff.RProj` - what makes the folder an RStudio project

-   `_quarto.yml` - the configuration file 

-   `wr-chaff.md` - the main document containing some template text

ðŸŽ¬ Hit Render (Ctrl-Shift-K)

Note that` wr-chaff.html` is created and opened in the Viewer pane

(may need to set in Global options to open in Viewer pane)


## Edit the YAML header

ðŸŽ¬ Add your name, and a title. Also add the engine and format 

``` yml
---
title: "The difference in mass between subspecies of common chaffinch."
author: "Emma Rand"
engine: knitr
format:
  html
---
```

## Add some content

ðŸŽ¬ Add a code chunk (Ctrl-Shift-I) for a simple graph.


```{r}
#| echo: fenced
hist(rnorm(100))
```

ðŸŽ¬ Hit Render (Ctrl-Shift-K)




## Edit the YAML header

ðŸŽ¬ Set some default code chunk options. I recommend these for reports


``` yml
---
title: "The difference in mass between subspecies of common chaffinch."
author: "Emma Rand"
engine: knitr
format:
  html
execute:
  echo: false
  include: true
  error: false
  message: false
  warning: false

---
```
ðŸŽ¬ Hit Render (Ctrl-Shift-K)

## Code chunk options

-   `echo: false`  code will not be included in output
-   `include: true` output will be included
-   `error: false` halt render if a code error occurs
-   `message: false` messages and warnings will not be included
-   `warning: false`