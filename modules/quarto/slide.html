<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">
<meta name="author" content="Emma Rand">
<title>White Rose Analytics 1: Reproducibility with R – Quarto for reproducible reporting</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
<link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
<link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
<style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
<link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-8f3eebe07241f08526c91a7e9cbef8fd.css">
<link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
<link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
<link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
<link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
<link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
<link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
<style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center"><h1 class="title">Quarto for reproducible reporting</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Emma Rand 
</div>
</div>
</div>

  <p class="date">31 March, 2025</p>
</section><section><section id="overview" class="title-slide slide level1 center"><h1>Overview</h1>

</section><section id="aims" class="slide level2"><h2>Aims</h2>
<ul>
<li><p>To introduce you to Quarto for creating reproducible reports in a variety of output formats.</p></li>
<li><p>You will also get more practice organising analyses and importing, summarising and plotting data.</p></li>
</ul>
<div class="fragment">
<p>🎬 An instruction to do something</p>
</div>
</section><section id="learning-outcomes" class="slide level2"><h2>Learning Outcomes</h2>
<p>The successful student will be able to:</p>
<div style="font-size: 80%">
<ul>
<li><p>explain what Quarto and markdown are</p></li>
<li><p>appreciate the role of the YAML header</p></li>
<li><p>set default code chunk behaviour and that for individual chunks</p></li>
<li><p>use headings, simple text formatting and special characters</p></li>
<li><p>add citations and references</p></li>
<li><p>use inline code to report results in text</p></li>
<li><p>create automatically numbered tables and figures and cross reference them in text</p></li>
</ul>
</div>
</section><section id="current-process" class="slide level2"><h2>Current process</h2>
<div>
<ul>
<li class="fragment">
<p>What is your process for getting your summary data, statistical results, tables and figures in to a report / paper?</p>
<p>90% of you use Word/Pages/Writer/Googledocs</p>
</li>
<li class="fragment"><p>What do you do when you get additional data that increases your sample sizes?</p></li>
<li class="fragment"><p>How easy is it to reorder your figures and tables?</p></li>
<li class="fragment"><p>What do you do if you formatted for one journal and now have to submit to another?</p></li>
</ul>
</div>
</section><section id="current-process-1" class="slide level2"><h2>Current process</h2>
<div>
<ul>
<li class="fragment"><p>Typically people analyse, plot and write up in different programs.</p></li>
<li class="fragment"><p>Graphs are saved to files and inserted into the final report.</p></li>
<li class="fragment"><p>Reordering figures, tables and equations means updating everywhere they are cross-referenced.</p></li>
<li class="fragment"><p>If the data change, the author must repeat the entire process to update the report.</p></li>
<li class="fragment"><p>Manual labour ….. error prone</p></li>
</ul>
</div>
</section></section><section><section id="what-is-quarto" class="title-slide slide level1 center"><h1>What is Quarto?</h1>

</section><section id="what-is-quarto-1" class="slide level2"><h2>What is Quarto?</h2>
<div>
<ul>
<li class="fragment"><p>An open-source scientific and technical publishing system that allows you to create dynamic reproducible reports in a variety of output formats.</p></li>
<li class="fragment"><p>Next generation RMarkdown. Many new features, greater standardisation and more flexibility.</p></li>
<li class="fragment"><p>Mutli-language Python, R, Julia, and Observable.</p></li>
<li class="fragment"><p>Include auto-numbered and cross-referencable equations, figures and tables</p></li>
<li class="fragment"><p>Integrates with Zotero</p></li>
</ul>
</div>
</section></section><section><section id="demo" class="title-slide slide level1 center"><h1>Demo!</h1>

</section><section id="key-points-from-the-demo" class="slide level2"><h2>Key points from the demo</h2>
<ul>
<li><p>Quarto mixes text and code to create dynamic reports</p></li>
<li><p>The YAML header sets the default behaviour for the document and is between <code>---</code> at the top of the document</p></li>
<li><p>R Code chunks are between <code>```{r}</code> and <code>```</code> and chunk options determine how/whether they run whether code/output is included in the rendered document</p></li>
<li><p>You can run code chunk interactively or through rendering</p></li>
<li><p>Comments: <code>|#</code>, <code>#</code> in chunk options, <code>&lt;!-- in text --&gt;</code> but use Ctrl+Shift+C</p></li>
</ul></section></section><section><section id="markdown-foundations" class="title-slide slide level1 center"><h1>Markdown foundations</h1>

</section><section id="what-is-markdown" class="slide level2"><h2>What is Markdown?</h2>
<p>Markdown is a plain text format that is designed to be easy to write, and, even more importantly, easy to read</p>
</section><section id="text-formatting" class="slide level2"><h2>Text Formatting</h2>
<table class="caption-top" style="width:93%;">
<colgroup>
<col style="width: 41%">
<col style="width: 51%">
</colgroup>
<thead><tr class="header">
<th>Markdown Syntax</th>
<th>Output</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><div class="sourceCode" id="cb1"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a aria-hidden="true" tabindex="-1"></a>*italics*,**bold**</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
<td>
<em>italics</em>, <strong>bold</strong>
</td>
</tr>
<tr class="even">
<td><div class="sourceCode" id="cb2"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><a aria-hidden="true" tabindex="-1"></a>***bold italics **</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
<td><strong><em>bold italics</em></strong></td>
</tr>
<tr class="odd">
<td><div class="sourceCode" id="cb3"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb3-1"><a aria-hidden="true" tabindex="-1"></a>superscript^2^</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
<td>superscript<sup>2</sup>
</td>
</tr>
<tr class="even">
<td><div class="sourceCode" id="cb4"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb4-1"><a aria-hidden="true" tabindex="-1"></a>subscript~2~</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
<td>subscript<sub>2</sub>
</td>
</tr>
<tr class="odd">
<td><div class="sourceCode" id="cb5"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><a aria-hidden="true" tabindex="-1"></a>~~strikethrough~~</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
<td><del>strikethrough</del></td>
</tr>
<tr class="even">
<td><div class="sourceCode" id="cb6"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><a aria-hidden="true" tabindex="-1"></a><span class="in">`verbatim code`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
<td><code>verbatim code</code></td>
</tr>
</tbody>
</table></section><section id="headings" class="slide level2"><h2>Headings</h2>
<table class="caption-top" style="width:93%;">
<colgroup>
<col style="width: 34%">
<col style="width: 58%">
</colgroup>
<thead><tr class="header">
<th>Markdown Syntax</th>
<th>Output</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><div class="sourceCode" id="cb7"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb7-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu"># Header 1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
<td><h1 id="header-1">Header 1</h1></td>
</tr>
<tr class="even">
<td><div class="sourceCode" id="cb8"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb8-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">## Header 2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
<td><h2 id="header-2">Header 2</h2></td>
</tr>
<tr class="odd">
<td><div class="sourceCode" id="cb9"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb9-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">### Header 3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
<td><h3 id="header-3">Header 3</h3></td>
</tr>
<tr class="even">
<td><div class="sourceCode" id="cb10"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb10-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">#### Header 4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
<td><h4 id="header-4">Header 4</h4></td>
</tr>
</tbody>
</table></section><section id="links-images" class="slide level2"><h2>Links &amp; Images</h2>
<table class="caption-top">
<thead><tr class="header">
<th>Markdown Syntax</th>
<th>Output</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><div class="sourceCode" id="cb11"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb11-1"><a aria-hidden="true" tabindex="-1"></a>[</span>
<span id="cb11-2"><a aria-hidden="true" tabindex="-1"></a>Quarto](https://quarto.org)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
<td><a href="https://quarto.org">Quarto</a></td>
</tr>
<tr class="even">
<td><div class="sourceCode" id="cb12"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb12-1"><a aria-hidden="true" tabindex="-1"></a>!</span>
<span id="cb12-2"><a aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Caption</span><span class="co">](images/chaff.jpg)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
<td><img data-src="images/chaff.jpg" width="150"></td>
</tr>
</tbody>
</table></section><section id="lists" class="slide level2"><h2>Lists</h2>
<table class="caption-top" style="width:89%;">
<colgroup>
<col style="width: 43%">
<col style="width: 45%">
</colgroup>
<thead><tr class="header">
<th>Markdown Syntax</th>
<th>Output</th>
</tr></thead>
<tbody><tr class="odd">
<td><div class="sourceCode" id="cb13"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb13-1"><a aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>unordered list</span>
<span id="cb13-2"><a aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>sub-item 1</span>
<span id="cb13-3"><a aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>sub-item 2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
<td><ul>
<li>unordered list
<ul>
<li>sub-item 1</li>
<li>sub-item 2</li>
</ul>
</li>
</ul></td>
</tr></tbody>
</table></section><section id="lists-1" class="slide level2"><h2>Lists</h2>
<table class="caption-top" style="width:89%;">
<colgroup>
<col style="width: 44%">
<col style="width: 44%">
</colgroup>
<thead><tr class="header">
<th>Markdown Syntax</th>
<th>Output</th>
</tr></thead>
<tbody><tr class="odd">
<td><div class="sourceCode" id="cb14"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb14-1"><a aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>ordered list</span>
<span id="cb14-2"><a aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>item 2</span>
<span id="cb14-3"><a aria-hidden="true" tabindex="-1"></a>    i) sub-item 1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
<td><ol type="1">
<li>ordered list</li>
<li>item 2
<ol type="i">
<li>sub-item 1</li>
</ol>
</li>
</ol></td>
</tr></tbody>
</table></section><section id="equations" class="slide level2"><h2>Equations</h2>
<p>Use <code>$</code> delimiters for inline math and <code>$$</code> delimiters for display math. For example:</p>
<table class="caption-top" style="width:89%;">
<colgroup>
<col style="width: 44%">
<col style="width: 44%">
</colgroup>
<thead><tr class="header">
<th>Markdown Syntax</th>
<th>Output</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><div class="sourceCode" id="cb15"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb15-1"><a aria-hidden="true" tabindex="-1"></a><span class="an">inline math:</span><span class="co"> $E = mc^{2}$</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
<td>inline math: <span class="math inline">\(E=mc^{2}\)</span>
</td>
</tr>
<tr class="even">
<td><div class="sourceCode" id="cb16"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb16-1"><a aria-hidden="true" tabindex="-1"></a><span class="an">display math:</span></span>
<span id="cb16-2"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a aria-hidden="true" tabindex="-1"></a>$$E = mc^{2}$$</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></td>
<td>
<p>display math:</p>
<p><span class="math display">\[E = mc^{2}\]</span></p>
</td>
</tr>
</tbody>
</table></section><section id="divs" class="slide level2"><h2>Divs</h2>
<p>“Divs” are used to group content together and apply styling to that content.</p>
<p>For example, callouts</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb17-1"><a aria-hidden="true" tabindex="-1"></a>:::{.callout-note}</span>
<span id="cb17-2"><a aria-hidden="true" tabindex="-1"></a>Note that there are five types of callouts, including: </span>
<span id="cb17-3"><a aria-hidden="true" tabindex="-1"></a><span class="in">`note`</span>, <span class="in">`tip`</span>, <span class="in">`warning`</span>, <span class="in">`caution`</span>, and <span class="in">`important`</span>.</span>
<span id="cb17-4"><a aria-hidden="true" tabindex="-1"></a>:::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>Note that there are five types of callouts, including: <code>note</code>, <code>tip</code>, <code>warning</code>, <code>caution</code>, and <code>important</code>.</p>
</div>
</div>
</div>
</section><section id="div" class="slide level2"><h2>Div</h2>
<p>For example:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb18-1"><a aria-hidden="true" tabindex="-1"></a>::: {style="font-size: 80%"}</span>
<span id="cb18-2"><a aria-hidden="true" tabindex="-1"></a>This content is smaller</span>
<span id="cb18-3"><a aria-hidden="true" tabindex="-1"></a>:::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div style="font-size: 80%">
<p>This content is smaller</p>
</div>
</section></section><section><section id="your-turn" class="title-slide slide level1 center"><h1>Your turn!</h1>

</section><section id="start-a-new-project" class="slide level2"><h2>Start a new project</h2>
<p>🎬 File | New Project | New Directory | Quarto Project</p>
<ul>
<li><p>Browse to an appropriate place and give your project a name.</p></li>
<li><p>I used <code>wr-chaff</code></p></li>
<li><p>Choose Engine: Knitr</p></li>
<li><p>Turn visual markdown editor off (for now)</p></li>
</ul></section><section id="start-a-new-project-1" class="slide level2"><h2>Start a new project</h2>
<p>🎬 Change some RStudio settings. Tools | Global Options</p>
<ul>
<li>
<p>General:</p>
<ul>
<li><p>Turn off the three “Restore ….” options</p></li>
<li><p>Turn “Save workspace to .RData on exit” to Never</p></li>
</ul>
</li>
<li>
<p>R Markdown:</p>
<ul>
<li>Turn “Show output preview in:” to to Viewer pane</li>
</ul>
</li>
</ul></section><section id="your-project-contains" class="slide level2"><h2>Your project contains</h2>
<ul>
<li><p><code>wr-chaff.RProj</code> - what makes the folder an RStudio project</p></li>
<li><p><code>_quarto.yml</code> - the configuration file</p></li>
<li><p><code>wr-chaff.md</code> - the main document containing some template text</p></li>
</ul>
<div class="fragment">
<p>🎬 Hit Render (Ctrl-Shift-K)</p>
<p>Note that <code>wr-chaff.html</code> is created and opened in the Viewer pane</p>
<p>(may need to set in Global options to open in Viewer pane)</p>
</div>
</section><section id="edit-the-yaml-header" class="slide level2"><h2>Edit the YAML header</h2>
<p>🎬 Add your name, and a title. Also add the engine and format</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode yml code-with-copy"><code class="sourceCode yaml"><span id="cb19-1"><a aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb19-2"><a aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"The difference in mass between subspecies of common chaffinch."</span></span>
<span id="cb19-3"><a aria-hidden="true" tabindex="-1"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">"Emma Rand"</span></span>
<span id="cb19-4"><a aria-hidden="true" tabindex="-1"></a><span class="fu">engine</span><span class="kw">:</span><span class="at"> knitr</span></span>
<span id="cb19-5"><a aria-hidden="true" tabindex="-1"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb19-6"><a aria-hidden="true" tabindex="-1"></a><span class="at">  html</span></span>
<span id="cb19-7"><a aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="add-some-content" class="slide level2"><h2>Add some content</h2>
<p>🎬 Add a code chunk (Ctrl-Shift-I) for a simple graph.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb20-1"><a aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb20-2"><a aria-hidden="true" tabindex="-1"></a><span class="in">hist(rnorm(100))</span></span>
<span id="cb20-3"><a aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>🎬 Hit Render (Ctrl-Shift-K)</p>
</section><section id="edit-the-yaml-header-1" class="slide level2"><h2>Edit the YAML header</h2>
<p>🎬 Set some default code chunk options. I recommend these for reports</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode yml code-with-copy"><code class="sourceCode yaml"><span id="cb21-1"><a aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb21-2"><a aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"The difference in mass between subspecies of common chaffinch."</span></span>
<span id="cb21-3"><a aria-hidden="true" tabindex="-1"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">"Emma Rand"</span></span>
<span id="cb21-4"><a aria-hidden="true" tabindex="-1"></a><span class="fu">engine</span><span class="kw">:</span><span class="at"> knitr</span></span>
<span id="cb21-5"><a aria-hidden="true" tabindex="-1"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb21-6"><a aria-hidden="true" tabindex="-1"></a><span class="at">  html</span></span>
<span id="cb21-7"><a aria-hidden="true" tabindex="-1"></a><span class="fu">execute</span><span class="kw">:</span></span>
<span id="cb21-8"><a aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">echo</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb21-9"><a aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">include</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb21-10"><a aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">error</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb21-11"><a aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">message</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb21-12"><a aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">warning</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb21-13"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-14"><a aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>🎬 Hit Render (Ctrl-Shift-K)</p>
</section><section id="code-chunk-options" class="slide level2"><h2>Code chunk options</h2>
<ul>
<li>
<code>echo: false</code> code will not be included in output</li>
<li>
<code>include: true</code> output will be included</li>
<li>
<code>error: false</code> halt render if a code error occurs</li>
<li>
<code>message: false</code> messages and warnings will not be included</li>
<li><code>warning: false</code></li>
</ul>
<p>🎬 Experiment with change the options and re-rendering. Try misspelling <code>rnorm</code> to see the error option in action.</p>
</section></section><section><section id="content" class="title-slide slide level1 center"><h1>Content</h1>

</section><section id="content-1" class="slide level2"><h2>Content</h2>
<p>🎬 Delete everything except the YAML header.</p>
<p>🎬 Add headings for: Introduction, Methods, Results, Discussion, and References</p>
<p>🎬 Add a code chunk for package loading</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb22-1"><a aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb22-2"><a aria-hidden="true" tabindex="-1"></a><span class="in">#| label: load-packages</span></span>
<span id="cb22-3"><a aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyverse)</span></span>
<span id="cb22-4"><a aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p><code>#| label: load-packages</code> is a code chunk label. These are useful (here) and essential (later) for cross-referencing.</p>
</div>
</section><section id="introduction" class="slide level2"><h2>Introduction</h2>
<p>🎬 Add this test to the Introduction</p>
<div style="font-size: 80%">
<blockquote>
<p>A number of subspecies of the common chaffinch, Fringilla coelebs, have been described based principally on the differences in the pattern and colour of the adult male plumage. Two of groups of these subspecies are the “coelebs group” that occurs in Europe and Asia and the “canariensis group” that occurs on the Canary Islands.</p>
</blockquote>
</div>
<div class="fragment">
<p>🎬 Make the species name italic</p>
</div>
<div class="fragment">
<p>🎬 Make “common chaffinch” a link to <a href="https://en.wikipedia.org/wiki/Common_chaffinch" class="uri">https://en.wikipedia.org/wiki/Common_chaffinch</a></p>
</div>
</section><section id="add-data-import" class="slide level2"><h2>Add data import</h2>
<p>🎬 Make a folder called <code>data-raw</code></p>
<div class="fragment">
<p>🎬 Save <a href="data-raw/chaff.txt">chaff.txt</a> to <code>data-raw</code></p>
</div>
<div class="fragment">
<p>🎬 Add a code chunk with:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb23-1"><a aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb23-2"><a aria-hidden="true" tabindex="-1"></a><span class="in">#| label: import-data</span></span>
<span id="cb23-3"><a aria-hidden="true" tabindex="-1"></a><span class="in">file &lt;- "data-raw/chaff.txt"</span></span>
<span id="cb23-4"><a aria-hidden="true" tabindex="-1"></a><span class="in">chaff &lt;- read_table(file)</span></span>
<span id="cb23-5"><a aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<p>🎬 Run chunks interactively</p>
</div>
<div class="fragment">
<p>🎬 Render</p>
</div>
</section><section id="add-data-summary" class="slide level2"><h2>Add data summary</h2>
<p>🎬 Add a code chunk with:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb24-1"><a aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-2"><a aria-hidden="true" tabindex="-1"></a><span class="in">#| label: data-summary</span></span>
<span id="cb24-3"><a aria-hidden="true" tabindex="-1"></a><span class="in">chaff_summary &lt;- chaff |&gt; </span></span>
<span id="cb24-4"><a aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(subspecies) |&gt;  </span></span>
<span id="cb24-5"><a aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(mean = mean(mass, na.rm = TRUE),</span></span>
<span id="cb24-6"><a aria-hidden="true" tabindex="-1"></a><span class="in">            sd = sd(mass, na.rm = TRUE),</span></span>
<span id="cb24-7"><a aria-hidden="true" tabindex="-1"></a><span class="in">            n = length(mass),</span></span>
<span id="cb24-8"><a aria-hidden="true" tabindex="-1"></a><span class="in">            se = sd / sqrt(n))</span></span>
<span id="cb24-9"><a aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>🎬 Render</p>
<p>Notice the chunk labels being used in “Background Jobs”</p>
</div>
</section><section id="add-information-for-methods" class="slide level2"><h2>Add information for methods</h2>
<p>🎬 Add this text to the Introduction</p>
<div style="font-size: 80%">
<blockquote>
<p>We randomly sampled 20 <em>F. c.&nbsp;coelebs</em> males and 20 <em>F. c.&nbsp;palmae</em> males and determined their mass with spring scales. Analysis was carried out with R and tidyverse packages.</p>
</blockquote>
</div>
<div class="fragment">
<p>It would be good not to have “hard coded” those numbers in the text. What if we get more data. Or we just misremember or mis-type the numbers?</p>
</div>
</section><section id="extract-summary-information" class="slide level2"><h2>Extract summary information</h2>
<p>🎬 Add a code chunk with:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb25-1"><a aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb25-2"><a aria-hidden="true" tabindex="-1"></a><span class="in">#| label: extract-summary</span></span>
<span id="cb25-3"><a aria-hidden="true" tabindex="-1"></a><span class="in"># extract values for inline reporting</span></span>
<span id="cb25-4"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a aria-hidden="true" tabindex="-1"></a><span class="in"># sample sizes</span></span>
<span id="cb25-6"><a aria-hidden="true" tabindex="-1"></a><span class="in">n_coelebs &lt;- chaff_summary |&gt; </span></span>
<span id="cb25-7"><a aria-hidden="true" tabindex="-1"></a><span class="in">  filter(subspecies == "coelebs") |&gt; </span></span>
<span id="cb25-8"><a aria-hidden="true" tabindex="-1"></a><span class="in">  pull(n)</span></span>
<span id="cb25-9"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-10"><a aria-hidden="true" tabindex="-1"></a><span class="in">n_canariensis &lt;- chaff_summary |&gt; </span></span>
<span id="cb25-11"><a aria-hidden="true" tabindex="-1"></a><span class="in">  filter(subspecies == "canariensis") |&gt; </span></span>
<span id="cb25-12"><a aria-hidden="true" tabindex="-1"></a><span class="in">  pull(n)</span></span>
<span id="cb25-13"><a aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="inline-code-reproducible-reporting" class="slide level2"><h2>Inline code: reproducible reporting</h2>
<ul>
<li><p>Inline code is how you include a variable value, like a sample size, mean or statistical result, in a section of text.</p></li>
<li><p>In fact, any code output can be inserted directly into the text of a .qmd file using inline code.</p></li>
</ul>
<div class="fragment">
<p>Inline code goes between `r` and ` .</p>
<p>For example by writing:</p>
<p>The squareroot of 2 is `r <code>sqrt(2)</code> `</p>
<p>you will get:</p>
<p>The squareroot of 2 is 1.4142136</p>
</div>
</section><section id="inline-code-reproducible-reporting-1" class="slide level2"><h2>Inline code: reproducible reporting</h2>
<p>🎬 Replace the sample sizes in the Methods text with inline code</p>
<p>🎬 Render</p>
</section><section id="a-figure" class="slide level2"><h2>A figure</h2>
<p>🎬 Add a code chunk to the Results section with:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb26-1"><a aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-2"><a aria-hidden="true" tabindex="-1"></a><span class="in">#| label: fig-chaff</span></span>
<span id="cb26-3"><a aria-hidden="true" tabindex="-1"></a><span class="in">ggplot() +</span></span>
<span id="cb26-4"><a aria-hidden="true" tabindex="-1"></a><span class="in">  geom_point(data = chaff, aes(x = subspecies, y = mass),</span></span>
<span id="cb26-5"><a aria-hidden="true" tabindex="-1"></a><span class="in">             position = position_jitter(width = 0.1, height = 0),</span></span>
<span id="cb26-6"><a aria-hidden="true" tabindex="-1"></a><span class="in">             colour = "gray50") +</span></span>
<span id="cb26-7"><a aria-hidden="true" tabindex="-1"></a><span class="in">  geom_errorbar(data = chaff_summary, </span></span>
<span id="cb26-8"><a aria-hidden="true" tabindex="-1"></a><span class="in">                aes(x = subspecies, ymin = mean - se, ymax = mean + se),</span></span>
<span id="cb26-9"><a aria-hidden="true" tabindex="-1"></a><span class="in">                width = 0.3) +</span></span>
<span id="cb26-10"><a aria-hidden="true" tabindex="-1"></a><span class="in">  geom_errorbar(data = chaff_summary, </span></span>
<span id="cb26-11"><a aria-hidden="true" tabindex="-1"></a><span class="in">                aes(x = subspecies, ymin = mean, ymax = mean),</span></span>
<span id="cb26-12"><a aria-hidden="true" tabindex="-1"></a><span class="in">                width = 0.2) +</span></span>
<span id="cb26-13"><a aria-hidden="true" tabindex="-1"></a><span class="in">  scale_y_continuous(name = "Mass (g)", </span></span>
<span id="cb26-14"><a aria-hidden="true" tabindex="-1"></a><span class="in">                     limits = c(0, 30), </span></span>
<span id="cb26-15"><a aria-hidden="true" tabindex="-1"></a><span class="in">                     expand = c(0, 0)) +</span></span>
<span id="cb26-16"><a aria-hidden="true" tabindex="-1"></a><span class="in">  scale_x_discrete(name = "Subspecies", </span></span>
<span id="cb26-17"><a aria-hidden="true" tabindex="-1"></a><span class="in">                   labels = c("Canariensis", "Coelebs")) +</span></span>
<span id="cb26-18"><a aria-hidden="true" tabindex="-1"></a><span class="in">  theme_classic()</span></span>
<span id="cb26-19"><a aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>🎬 Render</p>
<p>Note: It is automatically labelled as Figure 1!</p>
</div>
</section><section id="cross-referencing" class="slide level2"><h2>Cross referencing</h2>
<p>The label of the code chunk is important when creating figures because it is used to cross reference the figure in the text. We give cross references with <code>@</code> followed by the label of the code chunk.</p>
<div class="fragment">
<p>That is starts with a <code>fig-</code> prefix also matters - this is what determines what is treated as a figure numbered in order of appearance.</p>
<p>🎬 Add a sentence with a cross reference to the figure:</p>
<div style="font-size: 80%">
<blockquote>
<p>Canariensis have higher mass than coelebs. See @fig-chaff</p>
</blockquote>
</div>
</div>
</section><section id="a-figure-legend" class="slide level2"><h2>A figure legend</h2>
<p>There are two ways to add a legend:</p>
<ol type="1">
<li><p>Add the <code>fig-cap</code> chunk option: <code>fig-cap: "Mass of chaffinches"</code> to the code chunk.</p></li>
<li><p>Use a div.</p></li>
</ol>
<div class="fragment">
<ol start="2" type="1">
<li>Is much more flexible:</li>
</ol>
<ul>
<li><p>You can include inline code, citations, special characters and formatting</p></li>
<li><p>You can more easily make multipanel figures</p></li>
</ul>
</div>
</section><section id="a-figure-legend-with-a-div" class="slide level2"><h2>A figure legend with a div</h2>
<p>🎬 Add a div by adding:</p>
<ul>
<li><p>removing the <code>fig-cap</code> option <strong>and</strong> the <code>label</code> option</p></li>
<li><p><code>:::</code> before and after the code chunk</p></li>
<li><p>placing the label after the opening <code>:::</code> like this: <code>::: {#fig-chaff}</code> Note the <code>#</code> is important for numbering</p></li>
<li><p>Putting the legend text between the code chunk and the closing <code>:::</code></p></li>
</ul>
<div class="fragment">
<p>In the example figure legend I have included inline code, formatting and a special character using inline math.</p>
</div>
</section><section id="set-the-figure-size-and-alignment" class="slide level2"><h2>Set the figure size and alignment</h2>
<p>🎬 Add a chunk options <code>fig-width</code>, <code>fig-height</code> and <code>fig-align</code> to the code chunk:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb27-1"><a aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb27-2"><a aria-hidden="true" tabindex="-1"></a><span class="in">#| fig-width: 3.5</span></span>
<span id="cb27-3"><a aria-hidden="true" tabindex="-1"></a><span class="in">#| fig-height: 3.5</span></span>
<span id="cb27-4"><a aria-hidden="true" tabindex="-1"></a><span class="in">ggplot() +</span></span>
<span id="cb27-5"><a aria-hidden="true" tabindex="-1"></a><span class="in">  geom_point(data = chaff, aes(x = subspecies, y = mass),</span></span>
<span id="cb27-6"><a aria-hidden="true" tabindex="-1"></a><span class="in">             position = position_jitter(width = 0.1, height = 0),</span></span>
<span id="cb27-7"><a aria-hidden="true" tabindex="-1"></a><span class="in">             colour = "gray50") +</span></span>
<span id="cb27-8"><a aria-hidden="true" tabindex="-1"></a><span class="in">  geom_errorbar(data = chaff_summary, </span></span>
<span id="cb27-9"><a aria-hidden="true" tabindex="-1"></a><span class="in">                aes(x = subspecies, ymin = mean - se, ymax = mean + se),</span></span>
<span id="cb27-10"><a aria-hidden="true" tabindex="-1"></a><span class="in">                width = 0.3) +</span></span>
<span id="cb27-11"><a aria-hidden="true" tabindex="-1"></a><span class="in">  geom_errorbar(data = chaff_summary, </span></span>
<span id="cb27-12"><a aria-hidden="true" tabindex="-1"></a><span class="in">                aes(x = subspecies, ymin = mean, ymax = mean),</span></span>
<span id="cb27-13"><a aria-hidden="true" tabindex="-1"></a><span class="in">                width = 0.2) +</span></span>
<span id="cb27-14"><a aria-hidden="true" tabindex="-1"></a><span class="in">  scale_y_continuous(name = "Mass (g)", </span></span>
<span id="cb27-15"><a aria-hidden="true" tabindex="-1"></a><span class="in">                     limits = c(0, 30), </span></span>
<span id="cb27-16"><a aria-hidden="true" tabindex="-1"></a><span class="in">                     expand = c(0, 0)) +</span></span>
<span id="cb27-17"><a aria-hidden="true" tabindex="-1"></a><span class="in">  scale_x_discrete(name = "Subspecies", </span></span>
<span id="cb27-18"><a aria-hidden="true" tabindex="-1"></a><span class="in">                   labels = c("Canariensis", "Coelebs")) +</span></span>
<span id="cb27-19"><a aria-hidden="true" tabindex="-1"></a><span class="in">  theme_classic()</span></span>
<span id="cb27-20"><a aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="two-panel-figure" class="slide level2"><h2>Two panel figure</h2>
<div>
<ul>
<li class="fragment"><p>We are going to add another figure, this time a figure with two panels (it’s an unnecessary figure for this data, but works for demonstration).</p></li>
<li class="fragment"><p>The figure will be two histogram of the mass of each subspecies.</p></li>
<li class="fragment"><p>We will again use a div which will contain two code chunks, one for each graph.</p></li>
<li class="fragment"><p>Their will be a label on the div for the figure as a whole and labels on each of the chunk to cross reference the sub figures.</p></li>
<li class="fragment"><p>Figure layout information will be added to the div.</p></li>
</ul>
</div>
</section><section id="two-panel-figure-1" class="slide level2"><h2>Two panel figure</h2>
<p>🎬 Add these two chunks to the Results section below the last figure (make sure you’re outside the last div)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb28-1"><a aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb28-2"><a aria-hidden="true" tabindex="-1"></a><span class="in">#| label: fig-hist-canariensis</span></span>
<span id="cb28-3"><a aria-hidden="true" tabindex="-1"></a><span class="in">chaff |&gt; filter(subspecies == "canariensis") |&gt;</span></span>
<span id="cb28-4"><a aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x = mass)) +</span></span>
<span id="cb28-5"><a aria-hidden="true" tabindex="-1"></a><span class="in">  geom_histogram(bins = 8) +</span></span>
<span id="cb28-6"><a aria-hidden="true" tabindex="-1"></a><span class="in">  theme_minimal()</span></span>
<span id="cb28-7"><a aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb29-1"><a aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-2"><a aria-hidden="true" tabindex="-1"></a><span class="in">#| label: fig-hist-coelebs</span></span>
<span id="cb29-3"><a aria-hidden="true" tabindex="-1"></a><span class="in">chaff |&gt; filter(subspecies == "coelebs") |&gt;</span></span>
<span id="cb29-4"><a aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x = mass)) +</span></span>
<span id="cb29-5"><a aria-hidden="true" tabindex="-1"></a><span class="in">  geom_histogram(bins = 8) +</span></span>
<span id="cb29-6"><a aria-hidden="true" tabindex="-1"></a><span class="in">  theme_minimal()</span></span>
<span id="cb29-7"><a aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you render, you’ll see that the two figures are added as separate figures.</p>
</section><section id="two-panel-figure-2" class="slide level2"><h2>Two panel figure</h2>
<p>To make them into one figure we need to use a div.</p>
<p>🎬 Add the div a round those chunks</p>
<p><code>::: {##fig-histograms layout-ncol=2}</code></p>
<p>……</p>
<p><code>:::</code></p>
<div class="fragment">
<p>🎬 Render</p>
</div>
<div class="fragment">
<p>🎬 Add a figure legend to the two panel figure</p>
</div>
<div class="fragment">
<p>🎬 Add a sentence with a cross reference to the figure. Can you cross reference the sub figures?</p>
</div>
<div class="fragment">
<p>🎬 Change the order of the figures</p>
</div>
</section><section id="tables" class="slide level2"><h2>Tables</h2>
<p>There are several ways to add tables to a document. We will use the <code><a href="https://rdrr.io/pkg/knitr/man/kable.html">knitr::kable()</a></code> function to create a table from a data frame or the summary information</p>
<div class="fragment">
<p>🎬 Add a table of the summary information for the chaffinch data:</p>
<div id="tbl-chaff" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl quarto-uncaptioned" id="tbl-chaff-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1
</figcaption><div aria-describedby="tbl-chaff-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode cell-code" id="tbl-chaff"><pre class="sourceCode markdown cell code-with-copy"><code class="sourceCode markdown"><span id="tbl-chaff-1"><a href="#tbl-chaff-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="tbl-chaff-2"><a href="#tbl-chaff-2" aria-hidden="true" tabindex="-1"></a><span class="in">#| label: tbl-chaff</span></span>
<span id="tbl-chaff-3"><a href="#tbl-chaff-3" aria-hidden="true" tabindex="-1"></a><span class="in">chaff_summary |&gt; </span></span>
<span id="tbl-chaff-4"><a href="#tbl-chaff-4" aria-hidden="true" tabindex="-1"></a><span class="in">  knitr::kable(caption = "Summary of mass(g) for the two subspecies of chaffinch.")</span></span>
<span id="tbl-chaff-5"><a href="#tbl-chaff-5" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
</div>
</section><section id="tables-1" class="slide level2"><h2>Tables</h2>
<p>Just as the <code>fig-</code> prefix matters for corrected numbering of figures, the <code>tbl-</code> prefix is important for the corrected numbering of figures.</p>
<p>Just as the label of the code chunk is important for cross referencing of figures so it is for tables and we use <code>@</code> followed by the label of the code chunk to cross reference the table in the text.</p>
<div class="fragment">
<p>🎬 Add a sentence with a cross reference to the table.</p>
</div>
</section><section id="tables---improve-format" class="slide level2"><h2>Tables - improve format</h2>
<p>The decimal places are over-the-top. They can be set</p>
<ol type="1">
<li><p>in the table by adding <code>digits = 2</code> to the <code>kable()</code> function</p></li>
<li><p>For the document overall by adding:</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb30-1"><a aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-2"><a aria-hidden="true" tabindex="-1"></a><span class="in">options(digits = 2)</span></span>
<span id="cb30-3"><a aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>🎬 Do one of these.</p>
</section><section id="tables---improve-format-1" class="slide level2"><h2>Tables - improve format</h2>
<p>A handy tidyverse function, <code>str_to_sentence()</code>, can be used for converting lower case to sentence case. We will do this for column names</p>
<div class="fragment">
<p>🎬 Add <code>col.names = names(chaff_summary) |&gt; str_to_sentence()</code> to the <code>kable()</code> function</p>
</div>
</section><section id="the-visual-editor" class="slide level2"><h2>The visual editor!</h2>
<div>
<ul>
<li class="fragment"><p>The visual editor is a WYSIWYG editor for Quarto documents. It can be accessed by clicking the <code>Visual Editor</code> button in the top right or by Ctrl-Shift-F4</p></li>
<li class="fragment"><p>It makes it easier to add and edit content (although I find I often want to use the source)</p></li>
<li class="fragment"><p>It is especially useful for adding citations.</p></li>
<li class="fragment"><p>Especially if you use zotero.</p></li>
</ul>
</div>
</section><section id="citations" class="slide level2"><h2>Citations</h2>
<p>You can add citations for R and packages, from doi, from a .bib file, or from zotero.</p>
<p>🎬 Put your cursor where you want the citation to go and click the <code>Insert</code> button in the top right and select <code>Citation</code> (Ctrl-Shift-F8) and add a citation for the <code>tidverse</code> package.</p>
<div class="fragment">
<p>🎬 Render</p>
</div>
<div class="fragment">
<ul>
<li><p>the in-text citation has been added</p></li>
<li><p>the reference has been added to the references section</p></li>
<li><p>a <code>references.bib</code> file has been created in the project folder</p></li>
</ul>
</div>
</section><section id="citations-1" class="slide level2"><h2>Citations</h2>
<p>🎬 Put your cursor after “plumage” in the Introduction and click the <code>Insert</code> button in the top right and select <code>Citation</code> (Ctrl-Shift-F8). Select From DOI and paste in 10.1016/j.ympev.2009.07.018</p>
<div class="fragment">
<p>🎬 Render</p>
</div>
<div class="fragment">
<p>You can also add citations to the .bib file manually. E.g. for R itself</p>
</div>
</section><section id="extra-exercises" class="slide level2"><h2>Extra exercises</h2>
<p>🎬 Make a folder called <code>images</code> and save these two images of the subspecies to it: <a href="images/canariensis.jpg">canariensis.jpg</a> and <a href="images/coelebs.jpg">coelebs.jpg</a>. Then add images of each of the chaffinch subspecies to the multi-panel figure.</p>
</section><section id="summary" class="slide level2"><h2>Summary</h2>
<div style="font-size: 80%">
<ul>
<li><p>Quarto is a Mutli-language scientific publishing system for creating dynamic reproducible reports in a many formats. It is based on R Markdown.</p></li>
<li><p>The YAML header provides metadata and sets the default behaviour for the document</p></li>
<li><p>Code chunk options determine how/whether they run whether code/output is included in the rendered document</p></li>
<li><p>Code can be run interactively</p></li>
<li><p>“Divs” are used to group content together and apply styling to that content.</p></li>
<li><p>Figures, images, tables and equations can be numbered automatically and cross referenced in text. The <code>fig-</code> and <code>tbl-</code> (etc) prefixes are important for this.</p></li>
<li><p>You can add citations and references.</p></li>
</ul>
</div>


</section></section>
</div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p>🔗 <a href="https://3mmarand.github.io/wr-analytics-1/modules/overview.html">Module overview</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="../../site_libs/revealjs/dist/reveal.js"></script><!-- reveal.js plugins --><script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script><script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script><script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script><script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script><script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script><script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script><script src="../../site_libs/revealjs/plugin/notes/notes.js"></script><script src="../../site_libs/revealjs/plugin/search/search.js"></script><script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script><script src="../../site_libs/revealjs/plugin/math/math.js"></script><script>window.define = window.backupDefine; window.backupDefine = undefined;</script><script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script><script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script><script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>


</body></html>